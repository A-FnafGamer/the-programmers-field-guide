---
const response = await fetch(
  "https://api.github.com/repos/splashkit/the-programmers-field-guide/contributors"
);

const users = await response.json();
import MainContributor from "./maincontributor.astro";
import Contributor from "./contributor.astro";

import { CardGrid } from "@astrojs/starlight/components";

const dont_include = ["macite", "jakerenzella", "charlottepierce"];
---

<CardGrid>
  <MainContributor
    name="Andrew Cain"
    affiliation="Deakin University"
    imgUrl="andrew_hike_img.png"
    tag="Co-Creator"
  />

  <MainContributor
    name="Charlotte Pierce"
    affiliation="Monash University"
    imgUrl="charlotte_hike_img.png"
    tag="Co-Creator"
  />
  <MainContributor
    name="Jake Renzella"
    affiliation="UNSW, Sydney"
    imgUrl="jake_hike.png"
    tag="Co-Creator"
    desc="Jake is a "
    twitter="https://twitter.com/jakerenzella"
    website="https://jakerenzella.com/"
  />
</CardGrid>

<h2>All contributors</h2>

{
  users.map
    ? (
    users.map((data: { login: string; html_url: string }) =>
        dont_include.includes(data.login) ? null : (
          <Contributor name={data.login} url={data.html_url} />
        )
      ))
    : null
}
