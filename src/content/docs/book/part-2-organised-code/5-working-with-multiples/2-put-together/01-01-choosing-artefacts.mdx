---
title: Designing the Statistics Calculator
sidebar:
  label: " - Design"
---

In understanding these concepts we have uncovered some Functions that will be included in the program’s design.
With the calculations thought through the design seems to be coming together. So far we have thought through the steps needed to calculate the output, but we have not thought about how these values will be read into the program.

Programs can be thought of as transforming data, taking inputs and generating outputs, as shown in [Figure x.y](#FigureProgramInputOutput). So far we have examined the processing needed to create the outputs, but we still need to consider how the data gets into the program, the inputs.

<br/>
import imgProgramInputOutput from './images/program-input-output.png';

<a id="FigureProgramInputOutput"></a>
<img src={imgProgramInputOutput.src} alt="Programs convert Inputs to Outputs" width="75%" />
<div class="caption"><span class="caption-figure-nbr">Figure x.y: </span>Programs convert Inputs to Outputs</div><br/>


At the start of the program the user will need to enter the values that will be stored in the array. This task can be coded in a `Populate Array` procedure. This will get the user to enter all of the values into the array. In other words it will allow the user to enter *each value* in the array.

The logic for populating the array can be split into a `Populate Array` procedure that calls a `Read Double` function. The `Read Double` function will be very useful across a number of different programs, so this may be able to be used elsewhere.

## Reading double values from the user 

[Figure x.y](#FigureFlowchartReadDouble) shows the flowchart for the process of reading a double value from the user. This includes a Pre-Test Loop that repeatedly asks the user to enter a number if they value they enter is not a number. This demonstrates a standard *validation* loop, in which you read a value, and check that it is valid in a loop.

The C and Pascal code for this are both slightly different to the flowchart due to different way they handle input and the features they offer to for converting the value read to a number. Details of these are
shown alongside [Listing x.y](#) and [Listing x.y](#) **[LISTINGS NOT COPIED OVER]**.

<br/>
import imgFlowChartReadDouble from './images/flowchart-read-double.png';

<a id="FigureFlowchartReadDouble"></a>
<img src={imgFlowChartReadDouble.src} alt="Flowchart showing the process for reading a double" width="50%" />
<div class="caption"><span class="caption-figure-nbr">Figure x.y: </span>Flowchart showing the process for reading a double</div><br/>

## Populating the array

With the logic for `Read Double` in place the next step is to determine the steps needed in the `Populate Array` procedure. This procedure will loop and read a value from the user for each element of the array. This
can use the `Read Double` function to get the value from the user, and then store this in the array's elements.

A flowchart illustrating the steps in `Populate Array` is shown in [Figure x.y](#FigureFlowchartPopulateArray). The decision node is being used to show the control mechanism of the for loop, counting from the lowest index of the array to the highest index. Within the body of the loop the two instructions build a prompt string, and then use this in the call to `Read Double`. The result returned from `Read Double` is stored in the current (i<sup>th</sup>) element of the array.

Once again the C and Pascal code differ in how this is implemented, centred on how the *prompt* is built within the loop. Pascal has built in support for Strings, so its code is much simpler. The C code for this requires you to coordinate the steps needed to build the text for the prompt. The details for these are shown in the text accompanying [Listing x.y](#) and [Listing x.y](#) **[LISTINGS NOT COPIED OVER]**.


<br/>
import imgFlowChartPopulateArray from './images/flowchart-populate-array.png';

<a id="FigureFlowchartPopulateArray"></a>
<img src={imgFlowChartPopulateArray.src} alt="Flowchart showing the process for Populate Array" width="50%" />
<div class="caption"><span class="caption-figure-nbr">Figure x.y: </span>Flowchart showing the process for `Populate Array`</div><br/>

## Where is the data stored?

The last question to remain is where will the data be stored. The array is a kind of variable, and therefore the array could be a Local Variable or a Global Variable. As Global Variables should be avoided where possible, this will be coded as a **Local Variable** within the program’s `Main` procedure. It can then be passed from there to the other Functions and Procedures in the code.

**[C Code and Pascal Code not copied over]**


## Overview of Statistic Calculator's design

That completes the logic needed to implement the Statistics Calculator Program. The final structure is shown in
[Figure x.y](#FigureStructureChartStatisticsCalculator) as a Structure Chart. Notice the double headed arrow on `data` in the call from `Main` to `Populate Array`. This indicates that the data parameter is passing the values into, and getting values out of the `Populate Array` procedure. Also see how the `data` value is passed out of `Main` to the functions that calculate the statistics.

<br/>
import imgStructureChartStatisticsCalculator from './images/structurechart-statistics-calculator.png';

<a id="FigureStructureChartStatisticsCalculator"></a>
<img src={imgStructureChartStatisticsCalculator.src} alt="Structure Chart showing the structure of the Statistics Calculator program" width="100%" />
<div class="caption"><span class="caption-figure-nbr">Figure x.y: </span>Structure Chart showing the structure of the `Statistics Calculator` program</div><br/>

:::note

- Remember anytime you need to do something with all of the elements in an array you need to work out how you can achieve this **for each** element in the array
- Notice that the processing of individual value from the arrays are always similar
- Make sure you can see how the for loop is able to perform these values for each element of the array

:::