---
title: Design Play Game
sidebar:
  label: " - Design Play Game"
---

## Designing Control Flow for Play Game

The `Play Game` Procedure is another artefact that will require some some thought to design its logic.
[Table x.y](#TablePlayGameMethodSpecs) contains the specification for this Procedure. It will be responsible for coordinating the actions of the game, while `Perform Guess` coordinates the actions for a *single* guess.


<br/>
<a id="TablePlayGameMethodSpecs"></a>

|   |   |
|---|---|
| **Name** | *Play Game* |
| **Description** | `Play Game` is responsible for coordinating the actions involved in playing a single game of *Guess that Number*. Initially the computer will generate a random target value, and output starting text. Then it will repeatedly ask the user to guess the number, until either the user has guessed the value or they have run out of guesses. If the user does run out of guesses then the computer ends the game, and tell the user the target value. |

<div class="caption"><span class="caption-figure-nbr">Table x.y: </span>Specification for the <code>Play Game</code> method</div>

The implementation of this Procedure will require us to store some data. The following Local Variables will be needed to store data within this Procedure:

-  `My Number`: This will store the computer's randomly chosen number.
-  `Guess Number`: This will store the current guess the user is at, allowing the computer to stop looping when the number of guesses is exceeds 7.

-  `Got It`: A Boolean value to indicate if the user did guess the number, allowing the computer to stop looping when the user guesses the number.

The flowchart for this is shown in [Figure x.y](#FigurePlayGameLogic), and again in [Figure x.y](#FigurePlayGameBlocks) with its blocks highlighted. This code uses a **repetition** to ask the user to perform up to 7 guesses. The condition on this loop occurs *after* the loop body as the user must have at least one guess.

There is also a **selection** after the loop to output the answer if the user ran out of guesses. This is only done when the user has not guessed it themselves. This does not need to perform any other actions when the user did guess the number, so the False branch has no additional actions. In code this would be implemented with an If Statement without an **else** branch.

:::note
- A loop may have its condition before or after it's instructions
- If the condition is after the loop, as it is with `Play Game`, then this gives a loop the runs **at least once**
- The else branch on the If Statement is optional. If you have no processing for this branch, you leave the `else` off in the code
- The condition of the If Statement in `Play Game` check if the `Got It` is `false` using the not logical operator. 
:::


<br/>
import playGameLogic from './images/guess-that-number-play-game-logic.png';

<a id="FigurePlayGameLogic"></a>
<img src={playGameLogic.src} alt="Logic for the Play Game method" width="50%" />
<div class="caption"><span class="caption-figure-nbr">Figure x.y: </span>Logic for the Play Game method</div><br/>

<br/>
import playGameBlocks from './images/guess-that-number-play-game-blocks.png';

<a id="FigurePlayGameBlocks"></a>
<img src={playGameBlocks.src} alt="Blocks in the Play Game code" width="66%" />
<div class="caption"><span class="caption-figure-nbr">Figure x.y: </span>Blocks in the Play Game code</div><br/>

## Pseudocode for Play Game

[Listing x.y](#ListingPlayGamePseudoCode)Â contains the Pseudocode for the `Play Game` Procedure. This uses Constants for `MAX_NUMBER` and a `MAX_GUESSES`, this will make it easier to change the range of the numbers and the associated number of guesses.

The flowchart for `Play Game` includes a Post-Test Loop, which can be coded as either a `do...while` or a `repeat...until` loop. This two variations are shown in step 7 of [Listing x.y](#ListingPlayGamePseudoCode), with the while version appearing as a comment on the following line. Both of these versions have the same result, but do require different conditions. It is important to understand that the basic ideas of a **post-test loop** is the same regardless of whether it is coded using `do...while` or `repeat...until`.

<br/>
<a id="ListingPlayGamePseudoCode"></a>

```
Procedure: Play Game
-------------------------------
Local Variables:
    - My Number, Guess Number (Integer)
    - Got It (Boolean)
Steps
    1. Assign My Number, a Random number between 1 and MAX_NUMBER
    2. Assign to Guess Number, the value 0
    3. Output 'I am thinking of a number between 1 and ', and MAX_NUMBER
    4. Repeat
    5.      Increase Guess Number by 1
    6.      Assign Got It, the result of PerformGuess(Guess Number, My Number)
    7. Until Guess Number >= MAX_GUESSES or Got It
    (* While Guess Number < MAX_GUESSES and not Got It *)
    8. If Not Got It then
    9.      Output 'You ran out of guesses... the number was ', and My Number
```
<div class="caption"><span class="caption-figure-nbr">Listing 5.x: </span>Pseudocode for Play Game</div>

:::note
- Notice the indentation make it ieaser to see which instructions are within the loop and branches of this code
:::